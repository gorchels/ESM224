knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) #Standard data analysis package
install.packages("tidyverse")
install.packages("sf")
install.packages("leaflet")
install.packages("tmap")
install.packages("sp")
install.packages("raster")
install.packages("RColorBrewer")
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326) #standard WG 84 CRS
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
#library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(sp) #Allows for manipulating spatial datasets as type Spatial, which is necissary for some wrangling not shown here
library(raster) #Reads in raster data and has some analysis tools
#library(beepr) #Useful for long loading times
library(RColorBrewer)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326) #standard WG 84 CRS
census_data = read_csv("DEC_10_SF1_P1_with_ann.csv")
View(census_data)
View(SB_tracts)
plot(SB_tracts)
names(SB_tracts)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326) #standard WG 84 CRS
census_data = read_csv("DEC_10_SF1_P1_with_ann.csv") #%>%
#mutate(CTIDFP00 = )
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326) #standard WG 84 CRS
census_data = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_data = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2)
names(census_data)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
census_map = full_join(census_data, SB_tracts, by = CTIDFP00)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326)%>%
mutate(Id2 = CTIDFP00)
plot(SB_tracts)
census_map = full_join(census_data, SB_tracts, by = Id2)
names(SB_tracts)
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00")
class(SB_tracts$CTIDFP00)
as.numeric(SB_tracts$CTIDFP00)
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00")
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00")
as_numeric(SB_tracts$CTIDFP00)
as.numeric(SB_tracts$CTIDFP00)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326)%>%
mutate(Id2 = CTIDFP00) %>%
mutate(CTIDFP00 = as.numeric(CTIDFP00))
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00")
View(census_data)
View(census_map)
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00") %>%
filter(!is.na(Total))
View(census_map[[18]][[38]])
plot(census_map)
census_map = full_join(SB_tracts, census_data, by = "CTIDFP00")# %>%
#filter(!is.na(Total))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
#library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(sp) #Allows for manipulating spatial datasets as type Spatial, which is necissary for some wrangling not shown here
library(raster) #Reads in raster data and has some analysis tools
#library(beepr) #Useful for long loading times
library(RColorBrewer)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326)%>%
mutate(CTIDFP00 = as.numeric(CTIDFP00)) %>%
mutate(Id2 = paste(STATEFP00, COUNTYFP00, TRACTCE00, sep = "")) %>%
mutate(Id2 = as.numeric(Id2))
census_data = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2)
plot(SB_tracts)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326)%>%
mutate(CTIDFP00 = as.numeric(CTIDFP00)) %>%
mutate(Id2 = paste(STATEFP00, COUNTYFP00, TRACTCE00, sep = "")) %>%
mutate(Id2 = as.numeric(Id2))
census_data_2010 = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2)
census_map = full_join(SB_tracts, census_data_2010, by = "Id2")# %>%
#filter(!is.na(Total))
plot(census_map)
census_map = full_join(SB_tracts, census_data_2010, by = "Id2")# %>%
#filter(!is.na(Total))
plot(census_map)
census_data_2000 = read_csv("DEC_00_SF1_H010_with_ann.csv") %>%
mutate(CTIDFP00 = Id2)
View(census_data_2000)
census_map_2000 = full_join(SB_tracts, census_data_2000, by = "Id2")# %>%
#filter(!is.na(Total))
View(census_map_2000)
census_map_2010 = full_join(SB_tracts, census_data_2010, by = "Id2") %>%
filter(!is.na(Total))
plot(census_map)
census_data_2010 = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2) %>%
mutate(Total2010 = Total)
census_data_2000 = read_csv("DEC_00_SF1_H010_with_ann.csv") %>%
mutate(CTIDFP00 = Id2) %>%
mutate(Total2000 = Total)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2") %>%
filter(!is.na(Total))
plot(census_map)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2") %>%
filter(!is.na(Total))
plot(census_map)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2") %>%
filter(!is.na(Total))
#plot(census_map)
View(census_map_2010)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
full_joinfilter(!is.na(Total))
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000))
#plot(census_map)
View(census_pop_change)
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000))
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
select(Total2000,Total2010)
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
dyplr::select(Total2000,Total2010)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
dplyr::select(Total2000,Total2010)
#plot(census_map)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010)
#plot(census_map)
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010) %>%
mutate(difference=Total2010-Total2000)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
#library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(sp) #Allows for manipulating spatial datasets as type Spatial, which is necissary for some wrangling not shown here
library(raster) #Reads in raster data and has some analysis tools
#library(beepr) #Useful for long loading times
library(RColorBrewer)
SB_tracts <- st_read(dsn = ".", layer = "tl_2010_06083_tract00") %>%
st_transform(crs = 4326)%>%
mutate(CTIDFP00 = as.numeric(CTIDFP00)) %>%
mutate(Id2 = paste(STATEFP00, COUNTYFP00, TRACTCE00, sep = "")) %>%
mutate(Id2 = as.numeric(Id2))
census_data_2010 = read_csv("DEC_10_SF1_P1_with_ann.csv") %>%
mutate(CTIDFP00 = Id2) %>%
mutate(Total2010 = Total)
census_data_2000 = read_csv("DEC_00_SF1_H010_with_ann.csv") %>%
mutate(CTIDFP00 = Id2) %>%
mutate(Total2000 = Total)
plot(SB_tracts)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010) %>%
mutate(difference=Total2010-Total2000)
#plot(census_map)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient("Comparitive Intensity", low = "oldlace", high = "red4")+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(cenus_pop_change$difference),0,max(cenus_pop_change$difference)),labels=c("-$9,000","$0","$15,000"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
filter(!is.na(Total2000)) %>%
filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010) %>%
mutate(difference=Total2010-Total2000)
#plot(census_map)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(cenus_pop_change$difference),0,max(cenus_pop_change$difference)),labels=c("-$9,000","$0","$15,000"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(census_pop_change$difference),0,max(census_pop_change$difference)),labels=c("-$9,000","$0","$15,000"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
min(census_pop_change$difference
)
max(census_pop_change$difference)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(census_pop_change$difference),0,max(census_pop_change$difference)),labels=c("-520","0","4700"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "green", high = "deepskyblue4", breaks=c(min(census_pop_change$difference),0,max(census_pop_change$difference)),labels=c("-520","0","4700"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(census_pop_change$difference),0,max(census_pop_change$difference)),labels=c("-520","0","4700"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
knitr::opts_chunk$set(echo = TRUE)
dir.create("popchange")
writeOGR(obj=census_pop_change, dsn="popchange", layer="census_change", driver="ESRI Shapefile")
library(rgdal)
dir.create("popchange")
writeOGR(obj=census_pop_change, dsn="popchange", layer="census_change", driver="ESRI Shapefile")
as_Spatial(census_pop_change)
?as.Spatial
??as.Spatial
class(census_pop_change)
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
#library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(sp) #Allows for manipulating spatial datasets as type Spatial, which is necissary for some wrangling not shown here
library(raster) #Reads in raster data and has some analysis tools
#library(beepr) #Useful for long loading times
library(RColorBrewer)
as_Spatial(census_pop_change)
library(rgdal)
dir.create("popchange")
writeOGR(obj=census_pop_change, dsn="popchange", layer="census_change", driver="ESRI Shapefile")
class(census_pop_change)
as_Spatial(census_pop_change)
library(rgdal)
dir.create("popchange")
writeOGR(obj=census_pop_change, dsn="popchange", layer="census_change", driver="ESRI Shapefile")
st_write(census_pop_change, "populationchange.shp", driver="ESRI Shapefile")
knitr::opts_chunk$set(echo = TRUE)
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
#filter(!is.na(Total2000)) %>%
#filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010) %>%
mutate(difference=Total2010-Total2000)
library(tidyverse) #Standard data analysis package
library(sf) #Allows for the opening and analysis of spatial files
library(leaflet) #Important for building interactive tmap tools
library(tmap) #Allows for building interactive HTML tools
#library(maptools) #Allows for more advanced map manipulating and other geospatial tools
library(sp) #Allows for manipulating spatial datasets as type Spatial, which is necissary for some wrangling not shown here
library(raster) #Reads in raster data and has some analysis tools
#library(beepr) #Useful for long loading times
library(RColorBrewer)
census_map_2010 = full_join(SB_tracts, census_data_2010,census_data_2000, by = "Id2")
census_pop_change = full_join(census_map_2010, census_data_2000, by = "Id2") %>%
#filter(!is.na(Total2000)) %>%
#filter(!is.na(Total2010)) %>%
dplyr::select(Total2000,Total2010) %>%
mutate(difference=Total2010-Total2000)
plot(census_map)
ggplot(census_pop_change)+
geom_sf(aes(fill = difference))+
scale_fill_gradient2("Value Discrepency",low = "firebrick4", mid = "white", high = "deepskyblue4", breaks=c(min(census_pop_change$difference),0,max(census_pop_change$difference)),labels=c("-520","0","4700"))+
labs(x = "", y = "", title = "Comparitive Urban Heat Island of Census \nTracts Based off Land Surface Temperature")+
theme_minimal()+
coord_sf(datum=NA)
sum(census_data_2000$Total)
x <- data.frame("population" = c(sum(census_data_2000$Total), sum(census_data_2010$Total)), "Year" = c(2000,2010))
View(x)
x <- data.frame("population" = c(sum(census_data_2000$Total), sum(census_data_2010$Total), 369608,298694), "Year" = c(2000,2010,1990,1980))
ggplot(x, aes(x = population, y = Year))+
geom_bar(stat="population", aes(col=I("black")))+
theme_classic()+
coord_flip()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = population, y = Year))+
geom_bar(aes(col=I("black")))+
theme_classic()+
coord_flip()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = population))+
geom_bar(aes(col=I("black")))+
theme_classic()+
coord_flip()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = population))+
geom_bar(aes(col=I("black")))+
theme_classic()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = population))+
geom_col(aes(col=I("black")))+
theme_classic()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = population, y = Year))+
geom_col(aes(col=I("black")))+
theme_classic()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = Year, y = population))+
geom_col(aes(col=I("black")))+
theme_classic()+
ylab("Number of Launches")+
xlab("Country of Launch")+
scale_y_continuous(expand = c(0,0))
ggplot(x, aes(x = Year, y = population))+
geom_col(aes(col=I("black")))+
theme_classic()+
ylab("Total Poplulation")+
xlab("Year of Census Collection")+
scale_y_continuous(expand = c(0,0))
